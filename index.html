<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crimillion</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #0d0d0d;
            color: #ffffff;
            display: flex;
        }

        /* Sidebar */

        .sidebar-title {
            display: flex;
            align-items: center; /* Vertically centers logo with text */
            gap: 10px; /* Space between logo and text */
            margin-bottom: 20px;
        }

        .sidebar-logo {
            width: 36px;
            height: 36px;
            object-fit: contain; /* Ensures logo maintains aspect ratio */
            display: block; /* Removes any inline spacing issues */
        }

        .sidebar-title span {
            line-height: 1; /* Ensures text doesn't create extra vertical space */
        }

        .sidebar {
            width: 250px;
            background-color: #1a1a1a;
            height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
        }

        .sidebar h2 {
            color: #ffffff;
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .sidebar a {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            color: #ffffff;
            text-decoration: none;
            border-radius: 8px;
            transition: background 0.3s;
            font-weight: 400;
        }

        .sidebar a:hover, .sidebar a.active {
            background-color: #52b71cd6;
        }

        .sidebar a img {
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 40px;
        }

        .table-container {
            background-color: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            border-radius: 8px;
            overflow: hidden;
            background-color: #222;
            font-weight: 300;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #ffffff;
        }

        th {
            background-color: #333;
            font-weight: 600;
        }

        tr:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }

        .button {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 400;
        }

        .webhook-btn {
            background-color: #133e66;
            color: rgb(171, 216, 255);
        }

        .transfer-btn {
            background-color: #156f2a;
            color: rgb(196, 255, 202);
        }

        .kill-btn {
            background-color: #66151d;
            color: rgb(255, 172, 172);
        }
    </style>

    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <h1 class="sidebar-title">
            <img class="sidebar-logo" src="https://i.ibb.co/qtdQVfW/image-removebg-preview-5.png" alt="Crimillion Logo">
            <span>Crimillion</span>
        </h1>
        
        <a href="#" class="active">Home</a>
        <a href="#">Accounts</a>
        <a href="#">Settings</a>
        <a href="#">Stats</a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <div class="table-container">
            <h2 style="color: black; font-size: 2rem; line-height: 2.5rem; letter-spacing: -1.28px; font-weight: 600;">Account Overview</h2>
            <table>
                <thead>
                    <tr>
                        <th>Username</th>
                        <th>Cash</th>
                        <th>Level</th>
                        <th>24h gain</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>example 1</td>
                        <td>$13,982,337</td>
                        <td>99 (58,202 / 190,200)</td>
                        <td>$2,801,690</td>
                        <td>Running</td>
                        <td>
                            <button class="button webhook-btn">Webhook</button>
                            <button class="button transfer-btn">Transfer</button>
                            <button class="button kill-btn">Kill</button>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr>
                        <td>example 2</td>
                        <td>$13,982,337</td>
                        <td>99 (58,202 / 190,200)</td>
                        <td>$2,801,690</td>
                        <td>Running</td>
                        <td>
                            <button class="button webhook-btn">Webhook</button>
                            <button class="button transfer-btn">Transfer</button>
                            <button class="button kill-btn">Kill</button>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr>
                        <td>example 3</td>
                        <td>$13,982,337</td>
                        <td>99 (58,202 / 190,200)</td>
                        <td>$2,801,690</td>
                        <td>Running</td>
                        <td>
                            <button class="button webhook-btn">Webhook</button>
                            <button class="button transfer-btn">Transfer</button>
                            <button class="button kill-btn">Kill</button>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr>
                        <td>example 4</td>
                        <td>$13,982,337</td>
                        <td>99 (58,202 / 190,200)</td>
                        <td>$2,801,690</td>
                        <td>Running</td>
                        <td>
                            <button class="button webhook-btn">Webhook</button>
                            <button class="button transfer-btn">Transfer</button>
                            <button class="button kill-btn">Kill</button>
                        </td>
                    </tr>
                </tbody>
                <tbody>
                    <tr>
                        <td>example 5</td>
                        <td>$13,982,337</td>
                        <td>99 (58,202 / 190,200)</td>
                        <td>$2,801,690</td>
                        <td>Running</td>
                        <td>
                            <button class="button webhook-btn">Webhook</button>
                            <button class="button transfer-btn">Transfer</button>
                            <button class="button kill-btn">Kill</button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="button-container">
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            console.log('Listening for player updates...');
            
            async function fetchData() {
                try {
                    const response = await fetch('https://crimillion-api.vercel.app/api/webhook');
                    if (!response.ok) throw new Error("Failed to fetch data");

                    const data = await response.json();
                    console.log("Received data:", data);
                    updatePlayerData(data);
                } catch (error) {
                    console.error("Error fetching data:", error);
                }
            }

            // Fetch new data every 5 seconds
            setInterval(fetchData, 5000);
        });

        // Function to update player data
        function updatePlayerData(playerData) {
            const rows = document.querySelectorAll('tbody tr');
            
            rows.forEach(row => {
                if (row.cells[0].textContent.toLowerCase() === playerData.username.toLowerCase()) {
                    row.cells[1].textContent = playerData.cash;
                    row.cells[2].textContent = playerData.level;
                    row.cells[3].textContent = playerData["24h_gain"];
                    row.cells[4].textContent = playerData.status;
                    console.log(`Updated ${playerData.username}'s stats.`);
                }
            });
        }
    </script>
</body>
</html>
